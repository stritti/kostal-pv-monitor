import{r as n,o as i,c as s,a as e,b as r,F as a,d as o,e as l}from"./app.37ad2515.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";var c="/kostal-pv-monitor/img/kostal-pv-monitor-display.jpg",h="/kostal-pv-monitor/img/modbus-settings.png",p="/kostal-pv-monitor/img/kostal-pv-monitor-settings.jpg",_="/kostal-pv-monitor/img/kostal-pv-monitor-096-oled.jpg";const u={},m=e("h1",{id:"power-monitor-for-kostal-plenticore-converter",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#power-monitor-for-kostal-plenticore-converter","aria-hidden":"true"},"#"),o(" Power Monitor for Kostal Plenticore Converter")],-1),f=e("p",null,"This gadget is designed to show the power usage of a Kostal Plenticore Converter having attached solar cells and buffer battery.",-1),b=e("p",null,"Data is transfered using WiFi and read from Kostal Plenticore Converter using Modbus protocol.",-1),g={class:"custom-container warning"},v=e("p",{class:"custom-container-title"},"WARNING",-1),w=o("This is a private project and not officially supported by "),y={href:"https://www.kostal-solar-electric.com/",target:"_blank",rel:"noopener noreferrer"},k=o("Kostal Solar Electric"),P=o("."),S=l('<p><img src="'+c+'" alt="Display of Kostal Plenticore PV Monitor"></p><p>It displays current power generation and consumption:</p><ul><li>PV production [W]</li><li>Battery charge/discharge [W] and SoC of battery [%]</li><li>House consumption [W]</li><li>Grid consumption/generation [W]</li><li>Time of last query</li></ul><p>To get fast insight on power consumtion of the house, the device shows smiley depending on primary energy source:</p><ul><li>battery: \u{1F642}</li><li>PV: \u{1F60E}</li><li>grid:\u{1F641}</li></ul><h2 id="setup" tabindex="-1"><a class="header-anchor" href="#setup" aria-hidden="true">#</a> Setup</h2><p>First of all, please verify if Modbus is activated at your converter:</p><ul><li>Navigate within menu of converter: <code>Settings</code> -&gt; <code>Modbus/Sunspec</code></li><li>Pay attention that Modbus is <strong>activated</strong>.</li></ul><p><img src="'+h+'" alt="Modbus settings"></p><h3 id="assemble-device" tabindex="-1"><a class="header-anchor" href="#assemble-device" aria-hidden="true">#</a> Assemble Device</h3><ol><li>Upload firmware</li><li>Connect battery</li><li>Fit to enclosure</li></ol><h3 id="initial-start" tabindex="-1"><a class="header-anchor" href="#initial-start" aria-hidden="true">#</a> Initial Start</h3><img src="'+p+'" alt="Kostal PV Monitor Settings" width="300" align="right"><p>If you start the device firsst time, it showsinformation to conect to its own WiFi hotspot. The Device runs in AP mode.</p><p>Take for example your smartphone and connect to shown WiFi hotspot.</p><p>In upcoming screen of the hotspot you are able to select Wifi network and password to attach the device to your home network. You have also to add hostname and port of your converter.</p><p>After all values are added, press <code>Save</code> button to store the values permanently on the device.</p><p>Now you could <strong>restart device</strong> and it will connect to your selected home network and can be used to monitor power consumption.</p><h4 id="required-settings" tabindex="-1"><a class="header-anchor" href="#required-settings" aria-hidden="true">#</a> Required Settings</h4><ul><li><p><code>WiFi SSID</code>: SSID/Name of your WiFi network</p></li><li><p><code>WiFi password</code>: Password of your WiFi network</p></li><li><p><code>Kostal Hostname</code>: Hostname of your Kostal Plenticore Converter</p></li><li><p><code>Kostal Modbus Port</code>: Port of your Kostal Plenticore Converter (default: 1502)</p></li></ul><h2 id="development" tabindex="-1"><a class="header-anchor" href="#development" aria-hidden="true">#</a> Development</h2><h3 id="parts-list-bom" tabindex="-1"><a class="header-anchor" href="#parts-list-bom" aria-hidden="true">#</a> Parts List (BOM)</h3>',22),x=o("1 "),T={href:"https://banggood.onelink.me/zMT7/f5eac6bc",target:"_blank",rel:"noopener noreferrer"},F=o("LILYGO\xAE TTGO T5 V2.0 e-Paper Display Development Board"),M=o("1 "),D={href:"https://www.thingiverse.com/thing:4055993",target:"_blank",rel:"noopener noreferrer"},I=o('TTGO T5 2.13" ePaper Snap Fit Enclosure'),C=o(": Could be printed at "),W={href:"https://craftcloud3d.com/",target:"_blank",rel:"noopener noreferrer"},E=o("Craftcloud"),B=o(" using white ABS material."),L=e("li",null,"3.7 V LiPo Battery",-1),O=e("h3",{id:"ttgo-t5-v2-0-e-paper-display-development-board",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ttgo-t5-v2-0-e-paper-display-development-board","aria-hidden":"true"},"#"),o(" TTGO T5 V2.0 e-Paper Display Development Board")],-1),V=o("More information about the board could be found at: "),K={href:"https://github.com/Xinyuan-LilyGO/T5-Ink-Screen-Series",target:"_blank",rel:"noopener noreferrer"},N=o("GitHub"),G=e("h3",{id:"modbus",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#modbus","aria-hidden":"true"},"#"),o(" Modbus")],-1),R=o("Communication is based on "),j={href:"https://www.kostal-solar-electric.com/de-de/download/-/media/document-library-folder---kse/2020/12/15/13/38/ba_kostal-interface-description-modbus-tcp_sunspec_hybrid.pdf/",target:"_blank",rel:"noopener noreferrer"},A=o("Kostal Plenticore Modbus"),H=e("h2",{id:"credits",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#credits","aria-hidden":"true"},"#"),o(" Credits")],-1),q=e("h3",{id:"dfrobot",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#dfrobot","aria-hidden":"true"},"#"),o(" DFRobot")],-1),Y=o("Project was initiated on "),z={href:"https://community.dfrobot.com/makelog-312165.html",target:"_blank",rel:"noopener noreferrer"},U=o('2022 ESP32 Initiation Program: "Micro-Control" Your World'),X=o(". Many thanks to "),J={href:"https://www.dfrobot.com/index.html",target:"_blank",rel:"noopener noreferrer"},Q=o("DFRobot"),Z=o(" for the support."),$=e("img",{src:_,alt:"First version using Monochrome 0.96 128x64 I2C/SPI OLED Display",width:"300",align:"right"},null,-1),ee=e("p",null,"First version was based on:",-1),oe={href:"https://www.dfrobot.com/product-2017.html",target:"_blank",rel:"noopener noreferrer"},te=o('DFRobot Monochrome 0.96" 128x64 I2C/SPI OLED Display'),re={href:"https://www.dfrobot.com/product-2395.html",target:"_blank",rel:"noopener noreferrer"},ne=o("DFRobot Gravity: IO Shield for FireBeetle M0 and ESP32-E"),ie={href:"https://www.dfrobot.com/product-2231.html",target:"_blank",rel:"noopener noreferrer"},se=o("DFRobot FireBeetle ESP32-E IoT Microcontroller with Header"),ae=e("p",null,"The version showed the following data:",-1),le=e("ul",null,[e("li",null,"Battery SoC (0-100%)"),e("li",null,"Own home consumption from PV (W)"),e("li",null,"Own home consumption from grid (W)"),e("li",null,"Own home consumption from battery (W)"),e("li",null,"Smiley depending on primary energy source")],-1),de=e("h2",{id:"license",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#license","aria-hidden":"true"},"#"),o(" License")],-1),ce=o("This project is licensed under the "),he={href:"https://github.com/stritti/kostal-pv-monitor/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer"},pe=o("MIT License"),_e=o(".");function ue(me,fe){const t=n("ExternalLinkIcon");return i(),s(a,null,[m,f,b,e("div",g,[v,e("p",null,[w,e("a",y,[k,r(t)]),P])]),S,e("ul",null,[e("li",null,[x,e("a",T,[F,r(t)])]),e("li",null,[M,e("a",D,[I,r(t)]),C,e("a",W,[E,r(t)]),B]),L]),O,e("p",null,[V,e("a",K,[N,r(t)])]),G,e("p",null,[R,e("a",j,[A,r(t)])]),H,q,e("p",null,[Y,e("a",z,[U,r(t)]),X,e("a",J,[Q,r(t)]),Z]),$,ee,e("ul",null,[e("li",null,[e("a",oe,[te,r(t)])]),e("li",null,[e("a",re,[ne,r(t)])]),e("li",null,[e("a",ie,[se,r(t)])])]),ae,le,de,e("p",null,[ce,e("a",he,[pe,r(t)]),_e])],64)}var ve=d(u,[["render",ue]]);export{ve as default};
